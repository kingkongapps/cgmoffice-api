<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace='api.sys.PasswdChg'>

	<!-- 사용자 아이디로 비밀번호 변경 -->
	<update id="update_TB_MEM"
		parameterType="com.cgmoffice.api.sys.dto.PasswdChgReqDto"
	>
	/* api.sys.PasswdChg.update_TB_MEM */
		UPDATE
			TB_MEM
		SET
			 PASSWD = #{encodedPw}
			,FIND_AC_YN = 'N'
		WHERE 1=1
			AND MEM_ID = #{userId}
	</update>

	<!-- 사용자 아이디로 카운트 조회 -->
	<select id="getPasswd_TB_MEM"
		parameterType="com.cgmoffice.api.sys.dto.PasswdChgReqDto"
		resultType="String"
	>
	/* api.sys.PasswdChg.getPasswd_TB_MEM */

		SELECT
			PASSWD
		FROM
			TB_MEM
		WHERE 1=1
			AND MEM_ID = #{userId}
	</select>

</mapper>


